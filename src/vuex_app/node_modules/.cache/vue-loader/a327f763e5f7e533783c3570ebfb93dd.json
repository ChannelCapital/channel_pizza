{"remainingRequest":"/Users/nazlituncer/channe_pizza2/channel_pizza/src/vuex_app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/nazlituncer/channe_pizza2/channel_pizza/src/vuex_app/src/pages/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/nazlituncer/channe_pizza2/channel_pizza/src/vuex_app/src/pages/Register.vue","mtime":1621451368846},{"path":"/Users/nazlituncer/channe_pizza2/channel_pizza/src/vuex_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nazlituncer/channe_pizza2/channel_pizza/src/vuex_app/node_modules/babel-loader/lib/index.js","mtime":1621201492650},{"path":"/Users/nazlituncer/channe_pizza2/channel_pizza/src/vuex_app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/nazlituncer/channe_pizza2/channel_pizza/src/vuex_app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHttYXBBY3Rpb25zfSBmcm9tICd2dWV4JwppbXBvcnQge21hcFN0YXRlfSBmcm9tICd2dWV4JwpleHBvcnQgZGVmYXVsdCAgey8qY29tcG9uZW50czogewogICAgICAgIFZ1ZUJvb3RzdHJhcFR5cGVhaGVhZAogICAgICAgIAogICAgfSwqLwoKICAgIAoKICAgIGRhdGEoKSB7CgogICAgICAgIHJldHVybiB7CgogICAgICAgIGNvZGU6ICcnLAogICAgICAgIHJlZ2lvbjonJywKICAgICAgICBjb3VudHJ5OicnLAogICAgICAgIHBvc3Rjb2RlczpbXSwKICAgICAgICBjb3VudHJ5RGF0YTpbXSwKICAgICAgICByZWdpb25EYXRhOltdLAogICAgICAgIGFkcmVzc19saW5lOicnLAogICAgICAgIGZpcnN0bmFtZTonJywKICAgICAgICBsYXN0bmFtZTonJywKCiAgICAgICAgZm9ybTp7CiAgICAgICAgICB1c2VybmFtZTpudWxsLAogICAgICAgICAgcGFzc3dvcmQ6bnVsbCwKICAgICAgICAgIGFkZHJlc3M6bnVsbCwKICAgICAgICAgIGZ1bGxuYW1lOm51bGwKICAgICAgICAgIAogICAgICAgIH0sCiAgICAgICAgc2ltcGxlRGlhbG9nIDogZmFsc2UKCiAgICAgICAgfQogICAgICAgCgogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwU3RhdGUoewogICAgICAgIGF1dGhvcml6ZWQ6IHN0YXRlID0+IHN0YXRlLmF1dGgudXNlcgogICAgICAKICAgICAgfSkKICAgICAgfSwKICAgIG1ldGhvZHM6IHsKICAgIAogICAgcG9zdENvZGVTZWFyY2g6IGZ1bmN0aW9uKCkgewogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY29kZSkKICAgY29uc3QgdXJsID0gImh0dHBzOi8vYXBpLnBvc3Rjb2Rlcy5pby9wb3N0Y29kZXMvIiArIHRoaXMuY29kZQogICBjb25zb2xlLmxvZyh1cmwpCiAgICAgIGF4aW9zCiAgICAgIC5nZXQodXJsKQogICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgCiAgICAgICAgdGhpcy5wb3N0Y29kZXNbMF0gPSByZXNwb25zZS5kYXRhLnJlc3VsdDsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBvc3Rjb2RlcykKICAgICAgICB0aGlzLmNvdW50cnlEYXRhLnB1c2godGhpcy5wb3N0Y29kZXNbMF0uY291bnRyeSk7CiAgICAgICAgdGhpcy5yZWdpb25EYXRhLnB1c2godGhpcy5wb3N0Y29kZXNbMF0ucmVnaW9uKQogICAgICAgIC8vdGhpcy5jb3VudHJ5RGF0YS5wdXNoKHRoaXMucG9zdGNvZGVzWzBdLmFkbWluX2NvdW50eSkKICAgICAgICAvL3RoaXMuY291bnRyeURhdGEucHVzaCh0aGlzLnBvc3Rjb2Rlc1swXS5hZG1pbl9kaXN0cmljdCkKICAgICAgICAvL3RoaXMuY291bnRyeURhdGEucHVzaCh0aGlzLnBvc3Rjb2Rlc1swXS5hZG1pbl93YXJkKQogICAgICB9KS5jYXRjaChlcnJvcj0+ewogICAgICAgY29uc29sZS5sb2coZXJyb3IpCiB9KQogICAgICB9LAoKICAgICAgLi4ubWFwQWN0aW9ucyh7CiAgICAgICAgIHJlZ2lzdGVyOiAnYXV0aC9yZWdpc3RlcicKICAgICAgCiAgICB9KSwKICAgICAgIAogIHNob3dBbGVydCgpIHsKICAgIGNvbnN0IG9wdGlvbnMgPSB7dGl0bGU6ICdNaXNzaW5nIEZpZWxkcycsIHNpemU6ICdzbSd9CiAgICB0aGlzLiRkaWFsb2dzLmFsZXJ0KCdQbGVhc2UgZnVsZmlsbCBhbGwgZmllbGRzJywgb3B0aW9ucykKICAgIAoKICB9LAoKICAgc2hvd0FsZXJ0MigpIHsKICAgIGNvbnN0IG9wdGlvbnMgPSB7dGl0bGU6ICdVc2VybmFtZScsIHNpemU6ICdzbSd9CiAgICB0aGlzLiRkaWFsb2dzLmFsZXJ0KCdVc2VybmFtZSBFeGlzdHMnLCBvcHRpb25zKQogICAgCgogIH0sCgogIHNob3dTdWNjZXNzQWxlcnQoKSB7CiAgICAgICBjb25zdCBvcHRpb25zID0ge3RpdGxlOiAnU3VjY2VzcycsIHNpemU6ICdzbSd9CiAgICB0aGlzLiRkaWFsb2dzLmFsZXJ0KCdZb3UgaGF2ZSBzdWNjZXNzZnVsbHkgc2lnbmVkIHVwJywgb3B0aW9ucykudGhlbigoKSA9PnsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgICBuYW1lOiAnUHJvZHVjdExpc3QnCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgfSwKICBhc3luYyB1c2VyQ2hlY2sgKCkgewogICAgICBjb25zb2xlLmxvZygiYWRkcmVzcyIgKyB0aGlzLmNvZGUpCiAgICAgICBpZighIXRoaXMuYWRyZXNzX2xpbmUgJiYhIXRoaXMuZmlyc3RuYW1lICYmICEhdGhpcy5mb3JtLnVzZXJuYW1lICYmICEhdGhpcy5mb3JtLnBhc3N3b3JkJiYhIXRoaXMubGFzdG5hbWUmJiEhdGhpcy5jb2RlICYmISF0aGlzLmNvdW50cnkgJiYhIXRoaXMucmVnaW9uKSB7CiAgICAgICAgY29uc29sZS5sb2coImluc2lkZSB0aGUgaWYgY2xhdXNlIikKICAgICAgICBhd2FpdCBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvbWVzc2FnZXMvZmluZFVzZXJCeVVzZXJuYW1lLyIgKyB0aGlzLmZvcm0udXNlcm5hbWUpLnRoZW4oKHJlc3BvbnNlKT0+ewogICAgICAgY29uc29sZS5sb2coIlJlc3BvbnNlIGRhdGEiICsgcmVzcG9uc2UpCiAgICAgICBpZihyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICAgIHRoaXMuc2hvd0FsZXJ0MigpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhbGVydCAyIGluc2lkZScpCiAgICAgICAgICAgIAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3VibWl0KCk7CiAgICAgICAgfQogICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgfSkgfWVsc2UgewogICAgICAgIHRoaXMuc2hvd0FsZXJ0KCkKICAgICAgIH0KICAgICAgIAogICAgfSwKCgogICAgICAgYXN5bmMgc3VibWl0KCl7IAogICAgICAgICAgCiAgICAgICAgICAgIHRoaXMuZm9ybS5hZGRyZXNzID0gdGhpcy5jb2RlICsgIiAiICsgdGhpcy5jb3VudHJ5ICsgIiAiICsgdGhpcy5yZWdpb24gKyAiICIgKyB0aGlzLmFkcmVzc19saW5lCiAgICAgICAgICAgIHRoaXMuZm9ybS5mdWxsbmFtZSA9IHRoaXMuZmlyc3RuYW1lICsgIiAiICsgdGhpcy5sYXN0bmFtZQogICAgICAgICBhd2FpdCB0aGlzLnJlZ2lzdGVyKHRoaXMuZm9ybSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAKICAgICAgICAgICAgIHRoaXMuc2hvd1N1Y2Nlc3NBbGVydCgpOwogICAgICAgICAgICAgY29uc29sZS5sb2coInJlZ2lzdGVyIGZ1bmN0aW9uIGNhbGxlZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJjYXRjaCIgKyBlcnJvci5tZXNzYWdlKQogICAgICAgICAgICB9KSB9IAogICAgICAgICAgICAKICAgICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICB9LAogICAgICAgICAKICAgIAp9Cgo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;AAIA;;;AAGA","file":"Register.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n    \n<div class=\"container register-form\">\n            <div class=\"form\">\n                <div class=\"note\">\n                    \n                    <p>Registration Form</p>\n                </div>\n                <form @submit.prevent=\"submit\">\n                <div class=\"form-content\">\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <div class=\"form-group\">\n                                <input id=\"username\" type=\"text\" class=\"form-control\" placeholder=\"Your UserName *\" value=\"\" v-model=\"form.username\"/>\n                            </div>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <div class=\"form-group\">\n                                <input id=\"password\" type=\"text\" class=\"form-control\" placeholder=\"Your Password *\" value=\"\" v-model = \"form.password\"/>\n                            </div>\n                           \n                        </div>\n                        <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <div class=\"form-group\">\n                                <input id=\"firstname\" type=\"text\" class=\"form-control\" placeholder=\"First Name *\" value=\"\" v-model=\"firstname\"/>\n                            </div>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <div class=\"form-group\">\n                                <input id=\"lastname\" type=\"text\" class=\"form-control\" placeholder=\"Last Name *\" value=\"\" v-model = \"lastname\"/>\n                            </div>   \n                        </div>\n                    </div>\n                    <div class=\"row\"> </div>\n                    <div class=\"note\"> Adress Information </div>\n                        <div class=\"col-md-6\">\n                            <div class=\"form-group\">\n                                <input id=\"code\" autocomplete = \"off\" v-model=\"code\" type=\"text\" class=\"form-control\" placeholder=\"Post Code *\" @blur=\"postCodeSearch\"/>\n                            </div>\n                            <div class=\"form-group\" style=\"margin:10% 25\">\n                                <vue-bootstrap-typeahead id=\"country\" placeholder=\"Country\" v-model=\"country\" :data='countryData'/>\n\n                            </div>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <div  style=\"margin:10% 25\">\n                                <vue-bootstrap-typeahead id=\"region\" :data='regionData' v-model=\"region\" placeholder=\"Region\"/>\n                            </div>\n                            <div class=\"form-group\">\n                                <input type=\"text\" id= \"address_line\" class=\"form-control\" placeholder=\"Adress Line 1\" value=\"\" v-model=\"adress_line\"/>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"row\"> \n                        \n                    </div>\n\n                    <button type=\"button\" class=\"btnSubmit\" @click=\"userCheck()\">Submit</button>\n                </div>\n                </form>\n            </div>\n        </div>\n\n\n</template>\n\n<script>\nimport axios from 'axios'\nimport {mapActions} from 'vuex'\nimport {mapState} from 'vuex'\nexport default  {/*components: {\n        VueBootstrapTypeahead\n        \n    },*/\n\n    \n\n    data() {\n\n        return {\n\n        code: '',\n        region:'',\n        country:'',\n        postcodes:[],\n        countryData:[],\n        regionData:[],\n        adress_line:'',\n        firstname:'',\n        lastname:'',\n\n        form:{\n          username:null,\n          password:null,\n          address:null,\n          fullname:null\n          \n        },\n        simpleDialog : false\n\n        }\n       \n\n    },\n    computed: {\n        ...mapState({\n        authorized: state => state.auth.user\n      \n      })\n      },\n    methods: {\n    \n    postCodeSearch: function() {\n        console.log(this.code)\n   const url = \"https://api.postcodes.io/postcodes/\" + this.code\n   console.log(url)\n      axios\n      .get(url)\n      .then(response => {\n        \n        this.postcodes[0] = response.data.result;\n        console.log(response.data);\n        console.log(this.postcodes)\n        this.countryData.push(this.postcodes[0].country);\n        this.regionData.push(this.postcodes[0].region)\n        //this.countryData.push(this.postcodes[0].admin_county)\n        //this.countryData.push(this.postcodes[0].admin_district)\n        //this.countryData.push(this.postcodes[0].admin_ward)\n      }).catch(error=>{\n       console.log(error)\n })\n      },\n\n      ...mapActions({\n         register: 'auth/register'\n      \n    }),\n       \n  showAlert() {\n    const options = {title: 'Missing Fields', size: 'sm'}\n    this.$dialogs.alert('Please fulfill all fields', options)\n    \n\n  },\n\n   showAlert2() {\n    const options = {title: 'Username', size: 'sm'}\n    this.$dialogs.alert('Username Exists', options)\n    \n\n  },\n\n  showSuccessAlert() {\n       const options = {title: 'Success', size: 'sm'}\n    this.$dialogs.alert('You have successfully signed up', options).then(() =>{\n                    this.$router.replace({\n                name: 'ProductList'\n              })\n                })\n  },\n  async userCheck () {\n      console.log(\"address\" + this.code)\n       if(!!this.adress_line &&!!this.firstname && !!this.form.username && !!this.form.password&&!!this.lastname&&!!this.code &&!!this.country &&!!this.region) {\n        console.log(\"inside the if clause\")\n        await axios.get(\"http://localhost:8080/api/messages/findUserByUsername/\" + this.form.username).then((response)=>{\n       console.log(\"Response data\" + response)\n       if(response.data) {\n            this.showAlert2()\n            console.log('alert 2 inside')\n            \n        } else {\n            this.submit();\n        }\n       }).catch(error => {\n           console.log(error)\n       }) }else {\n        this.showAlert()\n       }\n       \n    },\n\n\n       async submit(){ \n          \n            this.form.address = this.code + \" \" + this.country + \" \" + this.region + \" \" + this.adress_line\n            this.form.fullname = this.firstname + \" \" + this.lastname\n         await this.register(this.form).then(() => {\n             \n             this.showSuccessAlert();\n             console.log(\"register function called ---------------------------------\")\n                \n            }).catch(error => {\n                console.log(\"catch\" + error.message)\n            }) } \n            \n              \n            \n          },\n         \n    \n}\n\n</script>\n\n<style>\n/*\n.v-dialog--custom {\n  width: 10%;\n}\n/* Desktop */\n/*\n@media screen and (min-width: 768px) {\n  .v-dialog--custom {\n    width: 50%;\n  }\n}*/\n</style>"]}]}